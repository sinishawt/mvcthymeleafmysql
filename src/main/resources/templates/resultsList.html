<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org" lang="en">

<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>

<body>
<div th:fragment="resultsList" th:unless="${#lists.isEmpty(guests)}" id="results-block">
    <table>
        <thead>
<!--        <tr>-->
<!--            <th th:text="#{results.guest.id}">Id</th>-->
<!--            <th th:text="#{results.guest.name}">Surname</th>-->
<!--            <th th:text="#{results.guest.name}">Name</th>-->
<!--            <th th:text="#{results.guest.country}">Country</th>-->
<!--        </tr>-->
        </thead>
        <tbody>
        <tr th:each="guest : ${guests}">
            <td th:text="${guest.id}">id</td>
            <td th:text="${guest.name}">surname</td>
            <td th:text="${guest.email}">name</td>
        </tr>
        </tbody>
    </table>

    <form>
        <span class="subtitle">Guest list form</span>
        <div class="listBlock">
            <div class="search-block">
                <input type="text" id="searchSurname" name="searchSurname"/>
                <br />
                <label for="searchSurname" >Search label:</label>
                <button id="searchButton" name="searchButton" onclick="retrieveGuests()" type="button"
                        >Search button</button>
            </div>

            <!-- Results block -->
            <div id="resultsBlock">

            </div>
        </div>
    </form>

</div>
</body>

<script>

    function retrieveGuests() {
        var url = '/guests';
        console.log($('#searchSurname').val());

        // if ($('#searchSurname').val() !== '') {
             url = url + '/' + $('#searchSurname').val();
        // }

        $("#resultsBlock").load(url);
    }
</script>
</html>